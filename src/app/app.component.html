<section class="bg-image">
  <div class="container py-5">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col col-8">

        <header class="custom-header">
          <div class="container">
            <h1 class="custom-h1 font-weight-bold">Todo App!</h1>
          </div>
        </header>

        <div class="card custom-card">
          <div class="card-body p-4">

            <form class="todo-form-input">
              <div class="form-outline flex-fill">
                <input (keyup.enter)="addTodo($event)" autocomplete="off" autofocus
                       class="form-control"
                       data-test="input-todo" placeholder="Type a new task ...">
              </div>
              <button class="btn btn-info ms-2" data-test="add-button" type="button">Add</button>
            </form>

            <div class="d-flex align-items-center mb-4">
              <input (click)="toggleAll($any($event.target).checked )" class="me-3 form-check-input toggle-all-checkbox"
                     type="checkbox">

              <!-- Tabs navs -->
              <ul class="nav nav-tabs">
                <li class="nav-item clickable">
                  <a (click)="setTasksFilterStatus(TODO_FILTER_ENUM.ALL)"
                     [class.active]="isFilterStatus(TODO_FILTER_ENUM.ALL)"
                     class="nav-link">All</a>
                </li>
                <li class="nav-item clickable">
                  <a (click)="setTasksFilterStatus(TODO_FILTER_ENUM.ACTIVE)"
                     [class.active]="isFilterStatus(TODO_FILTER_ENUM.ACTIVE)"
                     class="nav-link">Active</a>
                </li>
                <li class="nav-item clickable">
                  <a (click)="setTasksFilterStatus(TODO_FILTER_ENUM.COMPLETED)"
                     [class.active]="isFilterStatus(TODO_FILTER_ENUM.COMPLETED)"
                     class="nav-link">Completed</a>
                </li>
              </ul>
              <!-- Tabs navs -->
            </div>

            <!-- Tabs content -->
            <div class="tab-content">
              <div class="">
                <ul class="list-group mb-0">
                  <li *ngFor="let todo of (todos | todoFilterPipe:todosFilterChoice); index as idx"
                      [ngClass]="{ 'line-through': todo.completed}"
                      class="custom-li d-flex align-items-center">
                    <div class="d-flex align-items-center flex-grow-1">
                      <input [(ngModel)]="todo.completed" class="form-check-input me-2 toggle-all-checkbox"
                             type="checkbox">
                      <span>{{ todo.label }}</span>
                    </div>
                    <button (click)="removeTodo(todo)" class="btn btn-close btn-sm"></button>
                  </li>

                  <!--                  TO IMPLEMENT EDIT MODE-->
                  <!--                  <li class="custom-li">-->
                  <!--                    <input checked class="form-check-input me-2" type="checkbox"/>-->
                  <!--                    <input class="form-control border-0 bg-white line-through" type="text"-->
                  <!--                           value="Cras justo odio in edit mode"/>-->
                  <!--                  </li>-->

                </ul>
              </div>
            </div>
            <!-- Tabs content -->

          </div>
        </div>

        <div class="card custom-card">
          <div class="card-body  custom-padding">
            {{ todos | remainingTodosMessage}}
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
<pre>
  {{todos | json}}
</pre>
